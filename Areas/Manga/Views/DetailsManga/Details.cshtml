@* <h1>Day la DetailsManga</h1> *@
@model Areas.Manga.Models.ViewModels.DetailsManga_ViewModel;
@{
    @* var mangaList = ViewBag.MangaList as List<Manga.Home.Models.InfoMangaModels>;
    var detailManga = ViewBag.DetailManga as List<Manga.Home.Models.InfoMangaModels>;
       *@
}

<div class=" mt-3 me-3 ms-3">
    <div class="row ">
        
            <div class="col-md-8 card card-custom cotainer custom-border custom-shadow"
                style="border: none; height: 450px;">
                @if (Model.RelatedMangas.FirstOrDefault() != null)
                {
                <div class="d-flex" style="">
                    <div class="me-3 m-3 custom-border custom-shadow"
                        style="height: 350px; width: 380px; border-radius: 6px;">
                       
                        <img src="https://otruyenapi.com/uploads/comics/@Model.RelatedMangas.FirstOrDefault().Thumb_url"
                            alt="Ảnh truện" class="car-img w-100 h-100"
                            style="background-color: rgb(130, 148, 206); border-radius: 6px;">
                    </div> 
                    <div class="m-3"
                        style="width:90%; height: 350px; display: flex; flex-direction: column; justify-content: space-between; ">

                        @* var manga = detailManga.First();  *@
                    <h5 class="card-title mt-2" style="font-weight: 600;">@Model.RelatedMangas.FirstOrDefault().Name</h5>
                    <hr class="mb-4" />
                        @if (@Model.RelatedMangas.FirstOrDefault().Author == null)
                        {
                        <p>Tác giả: Đang cập nhật...</p>
                        }
                        else
                        {
                        <p class="card-text info-box">Tác giả: @Model.RelatedMangas.FirstOrDefault().Author</p>
                        }
                    <div>
                        Thể loại:
                            @if (@Model.RelatedMangas.FirstOrDefault().Category != null &&
                           @Model.RelatedMangas.FirstOrDefault().Category.Any())
                            {
                                @foreach (var category in @Model.RelatedMangas.FirstOrDefault().Category)
                                {
                                    @category.name
                                    @if (category != @Model.RelatedMangas.FirstOrDefault().Category.Last())
                                    {
                                    <span>, </span> <!-- Thêm dấu phẩy nếu không phải là thể loại cuối cùng -->
                                    }
                                }
                            }
                            else
                            {
                            <p>Chưa có thể loại.</p>
                            }
                    </div>
                    <p class="card-text info-box">Lượt đọc: ...</p>

                    <div class="d-flex ">
                <p class="pt-2">Thêm yêu thích</p>
                <button type="button" class="ms-2 bg-white" style="border: none;">
                    <img src="~/Icon/unlike.png" alt="" style="height: 32px; width:32px">
                </button>
            </div>
            <div class="d-flex btn-group w-50 mt-0" style="height: 2.4em; align-items: flex-end; margin-bottom: 10px;">
                <a type="button" class="btn-info btn text-dark w-20" style="font-size: 14px;" asp-area="Manga"
                    asp-controller="ReadManga" asp-action="Index">
                    Đọc từ đầu
                </a>
                <a type="button" class="btn btn-success text-dark w-20" style="font-size: 14px;" asp-area="Manga"
                    asp-controller="ReadManga" asp-action="Index">
                    Chap mới nhất
                </a>

            </div>
                </div>

            </div>
            
            }

            else
            {
            <p>Không tìm thấy thông tin manga.</p>
            }

        </div>

        
        

        @* <div class="col-md-1"></div> *@

    <div class="col-md-4 me-0 card card-custom  " style="background-color:#B4B4B2; border:none">
        <div class="card custom-border custom-shadow m-0 mt-0 me-0 p-3 "
            style="height: 450px;background-color:#5b5b59;">
            <p class="m-0 p-0 d-flex justify-content-center " style="font-weight: 600;font-size: 16px;">Chapter</p>
            <hr>
            <div class="number-container">
            @foreach (var number in Model.ChapterData)
            {
                <a class="number-item">
                    @number.num_Chapter
                </a>
            }
        </div>
        </div>

    </div>
</div>


<style>
    .number-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* Chia thành 5 cột */
            gap: 10px;

            overflow-y: auto;
        }
        .number-item {
            text-align: center;
            border: 1px solid #ddd;
            padding: 10px;
            color: black;
            text-decoration: none;
            background-color: #f9f9f9;
        }
</style>








<hr>
    @*================================== *@



